start:
- { f: Input, put: "url" }
- { f: HttpRequest, url: "{url}", put: body, goTo: processPage }

processPage:
- f: MapJoin
  keys: { match: matches }
  list: "{keywords}"
  putElement: keyword
  mapTarget: matchKeyword

- { f: BooleanOp, op: OR, list: "{matches}", result: matched, defaultValue: false }
- { f: IfThenElse, condition: "{exists}", falseTarget: match }


match:
- type: echo
  log: "Keywords matched page {i}"










matchKeyword: 
- { f: ToLowerCase, string: "{body}", output: lbody }
- { f: ToLowerCase, string: "{keyword}", output: lkeyword }
- f: StringContains
  regex: "{lkeyword}"
  content: "{lbody}"
  output: match
